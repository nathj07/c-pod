# Dante Socks server config for C-Pod server
# This is for version 1.19 (Ubuntu)
# Public interface: <%= @public %>
# Private interface: <%= @private %>
#
logoutput: /var/log/sockd.log
internal: <%= @public %> port = 1080
external: <%= @private %>
method: none
iotimeout: 0

# Let in all the private addresses
#
client pass {
  from: 10.0.0.0/8 port 1-65535 to: <%= @public_cidr %>
}
client pass {
  from: 172.16.0.0/12 to: <%= @public_cidr %>
}
client pass {
  from: 192.168.0.0/16 to: <%= @public_cidr %>
}
# Record everyone else and fail them
#
client block {
  from: 0.0.0.0/0 to: 0.0.0.0/0
  log: connect error
}
# Allow them to go to the private network
#
pass {
  from: 0.0.0.0/0 to: <%= @private_cidr %>
  log: connect disconnect
  protocol: tcp udp
}
block {
  from: 0.0.0.0/0 to: 0.0.0.0/0
  log: connect
}
